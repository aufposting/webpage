'use strict';$(document).ready(function () {    var startcode1 = true;    var startcode2 = true;    var trueHeight = 0;    /* Clear Errors and Successes */    function clearErrorsAndSuccesses() {        $('#sign-up-form').find('div.form-group').each(function () {            $(this).removeClass('has-error');            $(this).removeClass('has-success');            $(this).find('div.help-block').html('');        });    }    /* Sign-up form buttons */    function setNextStep() {        $('#sign-up-form').delegate('button.btn-next', 'click', function () {            var step = $(this).attr('data-step');            $('ul.steps>li').each(function () {                $(this).removeClass('active');            });            $('ul.steps').find('li:nth-child(' + step + ')').addClass('active');        });    }    /* Set Package height */    function setHeight() {        $('#sign-up-form #submitdata-packages label').each(function(){            var height = $(this).height();            if(height > trueHeight){                trueHeight = height;            }            $(this).css({'height' : trueHeight + 'px'});        });    }    $('#sign-up-form').delegate('button[data-step="2"]', 'click', function () {        var valid = true;        var button = $(this);        if(startcode1 == true){            setTimeout(function () {                $('.step2validcheck').each(function () {                    var errorDiv = $(this).find('div.form-group').hasClass('has-error');                    if(errorDiv){                        valid = false;                    }                });                if(valid){                    button.attr('href', '#step-2').attr('data-toggle', 'tab').removeAttr('type', 'sumbit');                    button.click();                    clearErrorsAndSuccesses();                    window.scrollTo(0, 0);                    startcode1 = false;                    $('#step-two').attr('href', '#step-2').attr('data-toggle', 'tab');                    setNextStep();                }            }, 1000);        }    });    $('#sign-up-form').delegate('button[data-step="3"]', 'click', function () {        var valid = true;        var button = $(this);       if(startcode2 == true){           setTimeout(function () {               $('.step3validcheck').each(function () {                   var errorDiv = $(this).find('div.form-group').hasClass('has-error');                   if(errorDiv){                       valid = false;                   }               });               if(valid){                   button.attr('href', '#step-3').attr('data-toggle', 'tab').removeAttr('type', 'sumbit');                   button.click();                   clearErrorsAndSuccesses();                   window.scrollTo(0, 0);                   startcode2 = false;                   $('#step-three').attr('href', '#step-3').attr('data-toggle', 'tab');                   setNextStep();                   setHeight();               }           }, 1000);       }    });    /*  GET COOKIE */    function getCookie(name) {        var matches = document.cookie.match(new RegExp(            "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"        ));        return matches ? decodeURIComponent(matches[1]) : undefined;    }    /* Languages */    $('.languages img').click(function () {        var lang_data_lang = $(this).attr('data-lang');        $('#languages_dropdown').html($(this).get(0).outerHTML);        document.cookie = 'lang=' + lang_data_lang + '; path=/;';        location.reload();    });    /* Parking Show/Hide */    $('#sign-up-form').delegate('#submitdata-parking_included', 'change', function () {        var parking_val = $(this).val();        if(parking_val == 0){            $('#submitdata-parking_count').val(0);        }else{            $('#submitdata-parking_count').val(1);        }        if(parking_val == 2){           $('.parking').show('slow');        }else{            $('.parking').hide('slow');        }    });    /* Date Validation */    function validateDate($this)    {        var date_val = $('#submitdata-available_date').val();        var date = new Date();        var month = date.getMonth()+1;        var day = date.getDate();        var date_now = date.getFullYear() + '-' + (('' + month).length < 2 ? '0' : '') + month + '-' + (('' + day).length < 2 ? '0' : '') + day;        var av_date = (getCookie('lang') == undefined) ? 'Available Date cannot be blank.' : ((getCookie('lang') == 'en-US') ? 'Available Date cannot be blank.' : 'La date disponible ne peut pas être vide.');        var not_valid_date = (getCookie('lang') == undefined) ? 'Date Is Not Valid.' : ((getCookie('lang') == 'en-US') ? 'Date Is Not Valid.' : 'La date n\'est pas valide.');        if(date_val == ''){            $($this).addClass('has-error');            $($this).find('.help-block').html(av_date);            $('html, body').animate({ scrollTop: $($this).offset().top - 200 }, 'slow');            return false;        }else if(date_val < date_now){            $($this).addClass('has-error');            $($this).find('.help-block').html(not_valid_date);            $('html, body').animate({ scrollTop: $($this).offset().top - 200 }, 'slow');            return false;        }else{            $($this).removeClass('has-error');            $($this).find('.help-block').html('');            $($this).addClass('has-success');            return true;        }    }    $('#sign-up-form').delegate('#submitdata-available_date', 'blur change', function () {        validateDate('.field-submitdata-available_date');    });    /* Package Validation */    function validatePackage($this)    {        var packages = $('input[name="SubmitData[package_id][]"]:checked').val();        var lang = (getCookie('lang') == undefined) ? 'Please Select Package.' : ((getCookie('lang') == 'en-US') ? 'Please Select Package.' : 'Veuillez sélectionner le paquet.');        if(packages == undefined){            $($this).addClass('has-error');            $($this).find('.help-block').html(lang);            $('html, body').animate({ scrollTop: $($this).offset().top - 400 }, 'slow');            return false;        }else{            $($this).removeClass('has-error');            $($this).find('.help-block').html('');            $($this).addClass('has-success');            return true;        }    }    $('#sign-up-form').delegate('input[name="SubmitData[package_id][]"]', 'change', function () {        validatePackage('.field-submitdata-packages');    });    $('#sign-up-form').on('beforeSubmit', function(e){        var dateValidation = validateDate('.field-submitdata-available_date');        var packageValidation = validatePackage('.field-submitdata-packages');        return dateValidation && packageValidation;    });    /* Add bootstrap clesses to UL/LI */    $('#sign-up-form #submitdata-packages').each(function () {        let ul = $(this).find('ul');        let li = $(this).find('li');        if(!ul.hasClass('list-group')){            ul.addClass('list-group');        }        if(!li.hasClass('list-group-item')){            li.addClass('list-group-item');        }    });    /* Add discount size in span */    $('#submitdata-package_duration_id').on('change', function () {        var discount = $(this).val();        $.ajax({            "type" : "GET",            "url" : "get-discount-size",            "data" : {discount : discount}        }).done(function (data) {            var elem = $('.discount_size');            var span = $('.discount_size span')[0].outerHTML;            elem.html(data + '% ' + span).click();;            if(elem.css('display') == 'none'){                elem.css({'display' : 'block'});            }        }).error(function (e) {            console.log(e);        });    });    /* Coin Animation */    var deg = 0;    $('.discount_size').click(function () {        deg += 360;        $(this).css({'transform' : 'rotateY(' + deg + 'deg)'});    });    /* Blog/Listing Close Button */    $('.closeUl').on('click', function () {        var contentSection = $('#contentSection').attr('data-show');        if(contentSection == 'false'){            $('#contentSection').show().attr('data-show', 'true');            $('#showUl').animate({                'margin-left' : -1000            }, {                duration: 400            });            $(this).find('i').removeClass('fa-arrow-circle-left').addClass('fa-arrow-circle-right');        }else{            $('#contentSection').hide().attr('data-show', 'false');            $('#showUl').animate({                'margin-left' : 0            }, {                duration: 400            });            $(this).find('i').removeClass('fa-arrow-circle-right').addClass('fa-arrow-circle-left');        }    });});